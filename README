Gadwall
-------

Gadwall is a foundation upon which I can build web applications. Based
on the Mojolicious web framework, it is the result of some months spent
exploring the available options and finding a combination that suits me.

This program is named after the Gadwall (Anas strepera), a handsome duck
whose name does not resemble anything else on Github.


» Requirements

This program expects to run on a Unix system with:

- Perl 5.10.1+
- PostgreSQL 8.4+
- Perl modules: Mojolicious, DBI, DBD::Pg

(Mojolicious and associated modules are under active development, and
may be version-sensitive. If necessary, specific versions of these or
any other modules may be distributed with the application by placing
them in the top-level deps directory.)


» Installation

- First, set up the database. See schema/setup

- Edit gadwall.conf to set db-name/db-user/db-pass if necessary, and also
  to set the "secret" used to sign session cookies.

- In production, this application should be deployed behind a web server
  such as Apache using secure HTTP only. Here is an example VirtualHost
  definition:

    Listen a.b.c.d:443
    <VirtualHost a.b.c.d:443>
        ServerName gadwall.example.org
        SSLEngine on
        SSLCertificateFile ...
        SSLCertificateKeyFile ...
        ProxyRequests off
        ProxyPass / http://127.0.0.1:3000/
        ProxyPassReverse / http://127.0.0.1:3000/
    </VirtualHost>

    # Redirect http requests to https unconditionally
    Listen a.b.c.d:80
    <VirtualHost *:80>
        ServerName gadwall.example.org
        Redirect permanent / https://gadwall.example.org
    </VirtualHost>


» Operation

Use Hypnotoad or any suitable Plack web server to run this application
in production ("hypnotoad ./gadwall" or "plackup -s Starman ./gadwall").

--
Abhijit Menon-Sen <ams@toroid.org>
